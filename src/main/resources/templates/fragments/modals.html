<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
<div th:fragment="mealModal" class="">
    <div class="w-full" id="mealModal">
        <div class="m-auto p-5 mt-3" id="mealModalContent">
<!--            <span class="text-slate-500 text-2xl font-bold float-right cursor-pointer" id="closeMealModal">&times;</span>-->
<!--            <h1 class="text-black-500">Total Calories for <span th:text="${selectedDate}">:</span></h1>-->
            <h1>Total Calories Consumed on <span th:text="${mealDate}"></span> = <span th:text="${modalDailyCals}" class="text-semibold"></span></h1>
            <h1>Your daily target calories are <span th:text="${maintCals}"></span> so you are currently in a calorie <span th:text ="${maintCals} - ${modalDailyCals} > 0 ? 'deficit' : 'surplus'"></span> of <span th:text = "${modalDailyCals} - ${maintCals}"></span> calories</h1>
            <div class="grid grid-cols-3" id="dailyMealCards">
            <div th:each="meal : ${dailyMeals}" class="border-2 border-black p-5 rounded-md mt-3 mr-2 text-center w-64 bg-red-100">
                <p>Date: <span th:text="${meal.date}" class="text-black"></span></p>
                <p>Time: <span th:text="${meal.time}" class="text-black"></span></p>
                <p>Meal Type: <span th:text="${meal.mealType}" class="text-black"></span></p>
                <p>Meal Calories: <span th:text="${meal.mealCals}" class="text-black"></span></p>
                <table>
                    <tr>
                        <th>Food</th>
                        <th>Servings</th>
                        <th>Calories</th>
                    </tr>
                    <tr th:each="serving : ${meal.servings}">
                        <td th:text="${serving.food.getName()}"></td>
                        <td th:text="${serving.getNumber()}"></td>
                        <td th:with="totalCals=${serving.number * serving.food.getCalories()}"><span th:text="${totalCals}"></span></td>
                    </tr>
                </table>
                </div>
            </div>
        </div>
    </div>
</div>
<div th:fragment="workoutModal" class="">
    <div class="w-full" id="workoutModal">
        <div class="m-auto p-5 mt-3" id="workoutModalContent">
<!--            <span class="text-slate-500 text-2xl font-bold float-right cursor-pointer" id="closeWorkoutModal">&times;</span>-->
            <h1 class="text-black-500">Workouts for <span th:text="${workoutDate}"></span></h1>
            <div class="grid grid-cols-2" id="dailyWorkoutCards">
                <div th:each="workout : ${dailyWorkouts}" class="border-2 border-black p-5 rounded-md mt-3 mr-2 text-center w-64 bg-violet-200">
                    <p><span th:text="${workout.workoutName}" class="font-semibold text-lg">none</span></p>
                    <p>Date: <span th:text="${workout.dateOfWorkout}" class="text-black"></span></p>
                    <p>Duration: <span th:text="${workout.duration}" class="text-black"></span> minutes</p>
                    <br/>
                    <table class="">
                        <tr>
                            <th>Exercise</th>
                            <th>Weight</th>
                            <th>Repetitions</th>
                        </tr>
                        <tr th:each="set : ${workout.sets}">
                            <td th:text="${set.exercise.getName()}"></td>
                            <td th:text="${set.weight}"></td>
                            <td th:text="${set.repetitions}"></td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>